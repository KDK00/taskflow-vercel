<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskFlowMaster - ì—…ë¬´ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        .container {
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 90%;
        }
        
        .logo {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        .status {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .btn {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            padding: 15px 30px;
            border-radius: 10px;
            margin: 10px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.3);
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn-primary {
            background: rgba(102, 126, 234, 0.8);
            border-color: rgba(102, 126, 234, 1);
        }
        
        .btn-primary:hover {
            background: rgba(102, 126, 234, 1);
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .info-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .info-card h3 {
            margin-bottom: 10px;
            color: #ffd700;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .footer {
            margin-top: 30px;
            opacity: 0.7;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">ğŸš€</div>
        <h1>TaskFlowMaster</h1>
        <p class="subtitle">ì—…ë¬´ê´€ë¦¬ ì‹œìŠ¤í…œ</p>
        
        <div class="status">
            <h3>ğŸ”„ ì‹œìŠ¤í…œ ìƒíƒœ</h3>
            <p id="status-text">ì„œë²„ ì—°ê²° í™•ì¸ ì¤‘... <span class="loading"></span></p>
        </div>
        
        <div class="info-grid">
            <div class="info-card">
                <h3>ğŸ“± í´ë¼ì´ì–¸íŠ¸</h3>
                <p>React + TypeScript</p>
                <p>í¬íŠ¸: 5173</p>
            </div>
            <div class="info-card">
                <h3>ğŸ–¥ï¸ ì„œë²„</h3>
                <p>Express + SQLite</p>
                <p>í¬íŠ¸: 3000</p>
            </div>
        </div>
        
        <div>
            <a href="http://localhost:5173" class="btn btn-primary" id="app-link">
                ğŸ“‹ ì—…ë¬´ê´€ë¦¬ ì‹œìŠ¤í…œ ì—´ê¸°
            </a>
            <button class="btn" id="start-server-btn" onclick="oneClickStart()">
                ğŸš€ ì›í´ë¦­ ì‹œì‘
            </button>
            <a href="http://localhost:3000/api/health" class="btn" target="_blank">
                ğŸ” ì„œë²„ ìƒíƒœ í™•ì¸
            </a>
        </div>
        
        <div class="info-card" style="margin-top: 30px;">
            <h3>ğŸ”‘ ë¡œê·¸ì¸ ì •ë³´</h3>
            <p><strong>ê°œë°œì:</strong> admin / admin</p>
            <p><strong>ê´€ë¦¬ì:</strong> nara0 / nara0, nara1 / nara1</p>
            <p><strong>ì‚¬ìš©ì:</strong> nara2 / nara2, nara3 / nara3, nara4 / nara4</p>
        </div>
        
        <div class="footer">
            <p>ğŸš€TaskFlowMaster_ì™„ë²½ì‹¤í–‰.bat íŒŒì¼ì„ ì‹¤í–‰í•˜ì—¬ ì „ì²´ ì‹œìŠ¤í…œì„ ì‹œì‘í•˜ì„¸ìš”</p>
        </div>
    </div>

    <script>
        // ì„œë²„ ìƒíƒœ í™•ì¸
        async function checkServerStatus() {
            const statusText = document.getElementById('status-text');
            const appLink = document.getElementById('app-link');
            
            try {
                // í´ë¼ì´ì–¸íŠ¸ ì„œë²„ í™•ì¸
                const clientResponse = await fetch('http://localhost:5173', { mode: 'no-cors' });
                
                // ë°±ì—”ë“œ ì„œë²„ í™•ì¸
                const serverResponse = await fetch('http://localhost:3000/api/health', { mode: 'no-cors' });
                
                statusText.innerHTML = 'âœ… ëª¨ë“  ì„œë²„ê°€ ì •ìƒ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤!';
                appLink.style.background = 'rgba(34, 197, 94, 0.8)';
                appLink.style.borderColor = 'rgba(34, 197, 94, 1)';
                
            } catch (error) {
                statusText.innerHTML = 'âš ï¸ ì„œë²„ë¥¼ ì‹œì‘í•´ì£¼ì„¸ìš”. ğŸš€TaskFlowMaster_ì™„ë²½ì‹¤í–‰.bat íŒŒì¼ì„ ì‹¤í–‰í•˜ì„¸ìš”.';
                appLink.style.background = 'rgba(239, 68, 68, 0.8)';
                appLink.style.borderColor = 'rgba(239, 68, 68, 1)';
                appLink.onclick = function(e) {
                    e.preventDefault();
                    alert('ë¨¼ì € ğŸš€TaskFlowMaster_ì™„ë²½ì‹¤í–‰.bat íŒŒì¼ì„ ì‹¤í–‰í•˜ì—¬ ì„œë²„ë¥¼ ì‹œì‘í•´ì£¼ì„¸ìš”.');
                };
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì„œë²„ ìƒíƒœ í™•ì¸
        window.addEventListener('load', () => {
            setTimeout(checkServerStatus, 1000);
        });
        
        // 5ì´ˆë§ˆë‹¤ ì„œë²„ ìƒíƒœ ì¬í™•ì¸
        setInterval(checkServerStatus, 5000);
        
        // ì„œë²„ ìë™ ì‹œì‘ í•¨ìˆ˜
        function startServer() {
            const startBtn = document.getElementById('start-server-btn');
            const statusText = document.getElementById('status-text');
            
            // ë²„íŠ¼ ë¹„í™œì„±í™” ë° ë¡œë”© ìƒíƒœ
            startBtn.disabled = true;
            startBtn.innerHTML = 'ğŸ”„ ì„œë²„ ì‹œì‘ ì¤‘...';
            startBtn.style.background = 'rgba(255, 193, 7, 0.8)';
            
            statusText.innerHTML = 'ğŸš€ TaskFlowMaster ì„œë²„ë¥¼ ì‹œì‘í•˜ê³  ìˆìŠµë‹ˆë‹¤... <span class="loading"></span>';
            
            try {
                // Windows í™˜ê²½ì—ì„œ ë°°ì¹˜íŒŒì¼ ì‹¤í–‰
                if (navigator.platform.indexOf('Win') !== -1) {
                    // ë°©ë²• 1: íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë§í¬ë¡œ ë°°ì¹˜íŒŒì¼ ì‹¤í–‰ ìœ ë„
                    const link = document.createElement('a');
                    link.href = 'ğŸš€TaskFlowMaster_ì™„ë²½ì‹¤í–‰.bat';
                    link.download = 'ğŸš€TaskFlowMaster_ì™„ë²½ì‹¤í–‰.bat';
                    link.click();
                    
                    // ì‚¬ìš©ìì—ê²Œ ì•ˆë‚´
                    setTimeout(() => {
                        alert('ğŸš€TaskFlowMaster_ì™„ë²½ì‹¤í–‰.bat íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.\n\në‹¤ìš´ë¡œë“œëœ íŒŒì¼ì„ ë”ë¸”í´ë¦­í•˜ì—¬ ì‹¤í–‰í•´ì£¼ì„¸ìš”.\n\në˜ëŠ” í”„ë¡œì íŠ¸ í´ë”ì˜ ë°°ì¹˜íŒŒì¼ì„ ì§ì ‘ ì‹¤í–‰í•´ì£¼ì„¸ìš”.');
                        
                        // ë²„íŠ¼ ë³µì›
                        startBtn.disabled = false;
                        startBtn.innerHTML = 'ğŸš€ ì„œë²„ ìë™ ì‹œì‘';
                        startBtn.style.background = 'rgba(255, 255, 255, 0.2)';
                        
                        // ì„œë²„ ìƒíƒœ ì²´í¬ ì‹œì‘
                        setTimeout(() => {
                            statusText.innerHTML = 'â³ ì„œë²„ ì‹œì‘ì„ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘... (ë°°ì¹˜íŒŒì¼ì„ ì‹¤í–‰í•´ì£¼ì„¸ìš”)';
                            checkServerStatus();
                        }, 2000);
                    }, 1000);
                } else {
                    // ë¹„Windows í™˜ê²½
                    alert('Windows í™˜ê²½ì´ ì•„ë‹™ë‹ˆë‹¤.\nìˆ˜ë™ìœ¼ë¡œ ğŸš€TaskFlowMaster_ì™„ë²½ì‹¤í–‰.bat íŒŒì¼ì„ ì‹¤í–‰í•´ì£¼ì„¸ìš”.');
                    startBtn.disabled = false;
                    startBtn.innerHTML = 'ğŸš€ ì„œë²„ ìë™ ì‹œì‘';
                    startBtn.style.background = 'rgba(255, 255, 255, 0.2)';
                }
            } catch (error) {
                console.error('ì„œë²„ ì‹œì‘ ì˜¤ë¥˜:', error);
                alert('ìë™ ì‹œì‘ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\nìˆ˜ë™ìœ¼ë¡œ ğŸš€TaskFlowMaster_ì™„ë²½ì‹¤í–‰.bat íŒŒì¼ì„ ì‹¤í–‰í•´ì£¼ì„¸ìš”.');
                
                // ë²„íŠ¼ ë³µì›
                startBtn.disabled = false;
                startBtn.innerHTML = 'ğŸš€ ì„œë²„ ìë™ ì‹œì‘';
                startBtn.style.background = 'rgba(255, 255, 255, 0.2)';
            }
        }
        
        // ìë™ ì‹œì‘ ì˜µì…˜ (í˜ì´ì§€ ë¡œë“œ í›„ 5ì´ˆ ë’¤)
        function autoStartPrompt() {
            if (confirm('ğŸš€ TaskFlowMaster ì„œë²„ë¥¼ ìë™ìœ¼ë¡œ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\n"í™•ì¸"ì„ í´ë¦­í•˜ë©´ ë°°ì¹˜íŒŒì¼ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.')) {
                startServer();
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ í›„ ìë™ ì‹œì‘ í”„ë¡¬í”„íŠ¸ (3ì´ˆ í›„)
        setTimeout(() => {
            if (document.getElementById('status-text').innerHTML.includes('ì„œë²„ë¥¼ ì‹œì‘í•´ì£¼ì„¸ìš”')) {
                if (confirm('ğŸš€ TaskFlowMaster ì„œë²„ê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\nìë™ìœ¼ë¡œ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    oneClickStart();
                }
            }
        }, 3000);
        
        // ê³ ê¸‰ ë°°ì¹˜íŒŒì¼ ì‹¤í–‰ í•¨ìˆ˜
        function advancedStartServer() {
            const startBtn = document.getElementById('start-server-btn');
            const statusText = document.getElementById('status-text');
            
            startBtn.disabled = true;
            startBtn.innerHTML = 'ğŸ”„ ì„œë²„ ì‹œì‘ ì¤‘...';
            statusText.innerHTML = 'ğŸš€ TaskFlowMaster ì„œë²„ë¥¼ ì‹œì‘í•˜ê³  ìˆìŠµë‹ˆë‹¤... <span class="loading"></span>';
            
            // ë°©ë²• 1: ActiveXë¥¼ í†µí•œ ì§ì ‘ ì‹¤í–‰ (IE/Edge ë ˆê±°ì‹œ)
            try {
                if (window.ActiveXObject || "ActiveXObject" in window) {
                    const shell = new ActiveXObject("WScript.Shell");
                    shell.Run('ğŸš€TaskFlowMaster_ì™„ë²½ì‹¤í–‰.bat', 1, false);
                    
                    statusText.innerHTML = 'âœ… ë°°ì¹˜íŒŒì¼ì´ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤! ì„œë²„ ì‹œì‘ì„ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘...';
                    setTimeout(checkServerStatus, 3000);
                    return;
                }
            } catch (e) {
                console.log('ActiveX ì‹¤í–‰ ì‹¤íŒ¨:', e);
            }
            
            // ë°©ë²• 2: íŒŒì¼ í”„ë¡œí† ì½œì„ í†µí•œ ì‹¤í–‰
            try {
                const batPath = window.location.href.replace('index.html', '') + 'ğŸš€TaskFlowMaster_ì™„ë²½ì‹¤í–‰.bat';
                window.open('file:///' + batPath.replace(/\//g, '\\'), '_blank');
                
                statusText.innerHTML = 'â³ ë°°ì¹˜íŒŒì¼ ì‹¤í–‰ì„ ì‹œë„í–ˆìŠµë‹ˆë‹¤. ì„œë²„ ì‹œì‘ì„ í™•ì¸ ì¤‘...';
                setTimeout(checkServerStatus, 3000);
                return;
            } catch (e) {
                console.log('íŒŒì¼ í”„ë¡œí† ì½œ ì‹¤í–‰ ì‹¤íŒ¨:', e);
            }
            
            // ë°©ë²• 3: ì‚¬ìš©ì ì•ˆë‚´ (í´ë°±)
            alert('ğŸš€ ìë™ ì‹¤í–‰ì„ ìœ„í•´ ë‹¤ìŒ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”:\n\n1. í”„ë¡œì íŠ¸ í´ë”ì˜ "ğŸš€TaskFlowMaster_ì™„ë²½ì‹¤í–‰.bat" íŒŒì¼ì„ ë”ë¸”í´ë¦­\n2. ëª…ë ¹ í”„ë¡¬í”„íŠ¸ì—ì„œ "ğŸš€TaskFlowMaster_ì™„ë²½ì‹¤í–‰.bat" ì‹¤í–‰\n3. ì•„ë˜ "ì„œë²„ ìƒíƒœ í™•ì¸" ë²„íŠ¼ìœ¼ë¡œ ìˆ˜ë™ í™•ì¸');
            
            startBtn.disabled = false;
            startBtn.innerHTML = 'ğŸš€ ì„œë²„ ìë™ ì‹œì‘';
            statusText.innerHTML = 'â³ ìˆ˜ë™ìœ¼ë¡œ ë°°ì¹˜íŒŒì¼ì„ ì‹¤í–‰í•´ì£¼ì„¸ìš”.';
        }
        
        // ì›í´ë¦­ ì‹¤í–‰ ì‹œìŠ¤í…œ
        function oneClickStart() {
            if (confirm('ğŸ¯ TaskFlowMasterë¥¼ ì›í´ë¦­ìœ¼ë¡œ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nì´ ê¸°ëŠ¥ì€ ë‹¤ìŒì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:\nâ€¢ ëª¨ë“  Node.js í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ\nâ€¢ í¬íŠ¸ ì´ˆê¸°í™”\nâ€¢ ì„œë²„ ìë™ ì‹œì‘\nâ€¢ ì›¹í˜ì´ì§€ ìë™ ì—´ê¸°')) {
                
                // ì‚¬ìš©ìì—ê²Œ ë°°ì¹˜íŒŒì¼ ì‹¤í–‰ ì•ˆë‚´
                const instructions = `
ğŸš€ TaskFlowMaster ì›í´ë¦­ ì‹œì‘ ê°€ì´ë“œ

1ï¸âƒ£ í˜„ì¬ í´ë”ì—ì„œ "ğŸš€TaskFlowMaster_ì™„ë²½ì‹¤í–‰.bat" íŒŒì¼ì„ ì°¾ìœ¼ì„¸ìš”
2ï¸âƒ£ í•´ë‹¹ íŒŒì¼ì„ ë”ë¸”í´ë¦­í•˜ì—¬ ì‹¤í–‰í•˜ì„¸ìš”
3ï¸âƒ£ í¬íŠ¸ ì„ íƒ í™”ë©´ì—ì„œ 1ë²ˆ(5173 í¬íŠ¸)ì„ ì„ íƒí•˜ì„¸ìš”
4ï¸âƒ£ ì„œë²„ê°€ ì‹œì‘ë˜ë©´ ìë™ìœ¼ë¡œ ì›¹í˜ì´ì§€ê°€ ì—´ë¦½ë‹ˆë‹¤

ğŸ’¡ íŒ: ì´ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ë©´ ì„œë²„ ìƒíƒœê°€ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤!
                `;
                
                alert(instructions);
                
                // 5ì´ˆ í›„ ìë™ ìƒˆë¡œê³ ì¹¨ìœ¼ë¡œ ì„œë²„ ìƒíƒœ í™•ì¸
                setTimeout(() => {
                    if (confirm('ì„œë²„ ìƒíƒœë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        location.reload();
                    }
                }, 5000);
            }
        }
    </script>
</body>
</html> 