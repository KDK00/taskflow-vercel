@echo off
chcp 65001 >nul
cls

echo ========================================
echo    TaskFlow PC ì•± ì™„ì „ì‹¤í–‰ ë„êµ¬
echo ========================================
echo.

:: 1. ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ì •ë¦¬
echo [1ë‹¨ê³„] ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ì •ë¦¬ ì¤‘...
taskkill /F /IM app.exe >nul 2>&1
taskkill /F /IM node.exe >nul 2>&1
echo âœ… í”„ë¡œì„¸ìŠ¤ ì •ë¦¬ ì™„ë£Œ

:: 2. ë°±ì—”ë“œ ì„œë²„ ì‹œì‘ (ë°±ê·¸ë¼ìš´ë“œ)
echo [2ë‹¨ê³„] ë°±ì—”ë“œ ì„œë²„ ì‹œì‘ ì¤‘...
start /B npm run dev:server
echo âœ… ë°±ì—”ë“œ ì„œë²„ ì‹œì‘

:: 3. ì„œë²„ ì‹œì‘ ëŒ€ê¸°
echo [3ë‹¨ê³„] ì„œë²„ ì´ˆê¸°í™” ëŒ€ê¸° ì¤‘... (5ì´ˆ)
timeout /t 5 >nul

:: 4. PC ì•± ì‹¤í–‰
echo [4ë‹¨ê³„] TaskFlow PC ì•± ì‹¤í–‰ ì¤‘...
if exist "src-tauri\target\debug\app.exe" (
    echo âœ… ë¹Œë“œëœ ì•± ë°œê²¬! ì‹¤í–‰í•©ë‹ˆë‹¤...
    start "" "src-tauri\target\debug\app.exe"
) else (
    echo âŒ ë¹Œë“œëœ ì•±ì´ ì—†ìŠµë‹ˆë‹¤. ì²« ë¹Œë“œë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...
    npm run dev:tauri
)

echo.
echo ğŸ‰ TaskFlow PC ì•±ì´ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤!
echo ğŸ“Œ ì•± ì°½ê³¼ ë°±ì—”ë“œ ì„œë²„ê°€ ëª¨ë‘ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.
echo ğŸ“Œ ì¢…ë£Œí•˜ë ¤ë©´ ì´ ì°½ì„ ë‹«ì§€ ë§ˆì„¸ìš”.
echo.
pause 